---
import Layout from '../layouts/Layout.astro';
import Icon from '../components/Icon.astro';
import testimonials from '../data/testimonials.json';
import {
  siWhatsapp, siTelegram, siDiscord, siSignal, siApple,
  siAnthropic, siSpotify, siObsidian, siGithub, siGooglechrome, siGmail,
  siX, siPhilipshue
} from 'simple-icons';

const siIcon = (icon: any) => icon.path;

// Integration pills with icons
const integrationPills = [
  { name: 'WhatsApp', icon: siIcon(siWhatsapp), color: '#25D366' },
  { name: 'Telegram', icon: siIcon(siTelegram), color: '#26A5E4' },
  { name: 'Discord', icon: siIcon(siDiscord), color: '#5865F2' },
  { name: 'Slack', icon: 'lucide:hash', color: '#E01E5A' },
  { name: 'Signal', icon: siIcon(siSignal), color: '#3A76F0' },
  { name: 'iMessage', icon: siIcon(siApple), color: '#007AFF' },
  { name: 'Claude', icon: siIcon(siAnthropic), color: '#D4A574' },
  { name: 'GPT', icon: 'lucide:bot', color: '#00A67E' },
  { name: 'Spotify', icon: siIcon(siSpotify), color: '#1DB954' },
  { name: 'Hue', icon: siIcon(siPhilipshue), color: '#0065D3' },
  { name: 'Obsidian', icon: siIcon(siObsidian), color: '#7C3AED' },
  { name: 'Twitter', icon: siIcon(siX), color: '#FFFFFF' },
  { name: 'Browser', icon: siIcon(siGooglechrome), color: '#4285F4' },
  { name: 'Gmail', icon: siIcon(siGmail), color: '#EA4335' },
  { name: 'GitHub', icon: siIcon(siGithub), color: '#FFFFFF' },
];

// Split top 30 into two rows for carousel
const half = Math.ceil(testimonials.length / 2);
const topRow = testimonials.slice(0, half);
const bottomRow = testimonials.slice(half);

// Duplicate for seamless loop
const row1 = [...topRow, ...topRow];
const row2 = [...bottomRow, ...bottomRow];

// Calculate animation duration based on content length for constant speed
// Each card is ~336px (320px min-width + 16px gap), speed = 50px/s
const pixelsPerItem = 336;
const pixelsPerSecond = 50;
const duration1 = (row1.length / 2 * pixelsPerItem) / pixelsPerSecond;
const duration2 = (row2.length / 2 * pixelsPerItem) / pixelsPerSecond;
---

<Layout title="Clawdbot â€” Personal AI Assistant">
  <main class="container">
    <!-- Hero Section -->
    <header class="hero">
      <div class="lobster-icon" aria-hidden="true">
        <svg viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
          <!-- Lobster Silhouette - single color -->
          <path d="M60 10 C30 10 15 35 15 55 C15 75 30 95 45 100 L45 110 L55 110 L55 100 C55 100 60 102 65 100 L65 110 L75 110 L75 100 C90 95 105 75 105 55 C105 35 90 10 60 10Z" fill="var(--accent)"/>
          <path d="M20 45 C5 40 0 50 5 60 C10 70 20 65 25 55 C28 48 25 45 20 45Z" fill="var(--accent)"/>
          <path d="M100 45 C115 40 120 50 115 60 C110 70 100 65 95 55 C92 48 95 45 100 45Z" fill="var(--accent)"/>
          <path d="M45 15 Q35 5 30 8" stroke="var(--accent)" stroke-width="2" stroke-linecap="round"/>
          <path d="M75 15 Q85 5 90 8" stroke="var(--accent)" stroke-width="2" stroke-linecap="round"/>
          <circle cx="45" cy="35" r="6" fill="var(--bg-deep)"/>
          <circle cx="75" cy="35" r="6" fill="var(--bg-deep)"/>
        </svg>
      </div>

      <h1 class="title">
        <span class="title-main">Clawdbot</span>
      </h1>

      <p class="tagline" id="tagline">The AI that actually does things.</p>

      <p class="description">
        Clears your inbox, sends emails, manages your calendar, checks you in for flights. All from WhatsApp, Telegram, or any chat app you already use.
      </p>
    </header>

    <!-- Testimonials (moved up for social proof) -->
    <section class="testimonials">
      <div class="section-header">
        <h2 class="section-title">What People Say</h2>
        <a href="/shoutouts" class="section-link">View all â†’</a>
      </div>
      <div class="testimonials-track">
        <div class="testimonials-row row-1" style={`--duration: ${duration1}s`}>
          {row1.map((t) => (
            <a href={t.url} target="_blank" rel="noopener" class="testimonial-card">
              <img
                src={`https://unavatar.io/x/${t.author}`}
                alt={t.author}
                class="testimonial-avatar"
                loading="lazy"
                onerror={`this.src='https://ui-avatars.com/api/?name=${t.author}&background=FF4D4D&color=fff&size=88'`}
              />
              <div class="testimonial-content">
                <p class="testimonial-quote">"{t.quote}"</p>
                <span class="testimonial-author">@{t.author}</span>
              </div>
            </a>
          ))}
        </div>
        <div class="testimonials-row row-2" style={`--duration: ${duration2}s`}>
          {row2.map((t) => (
            <a href={t.url} target="_blank" rel="noopener" class="testimonial-card">
              <img
                src={`https://unavatar.io/x/${t.author}`}
                alt={t.author}
                class="testimonial-avatar"
                loading="lazy"
                onerror={`this.src='https://ui-avatars.com/api/?name=${t.author}&background=FF4D4D&color=fff&size=88'`}
              />
              <div class="testimonial-content">
                <p class="testimonial-quote">"{t.quote}"</p>
                <span class="testimonial-author">@{t.author}</span>
              </div>
            </a>
          ))}
        </div>
      </div>
    </section>

    <!-- Quick Start -->
    <section class="quickstart">
      <h2 class="section-title">Quick Start</h2>
      <div class="code-block">
        <div class="code-header">
          <span class="code-dot"></span>
          <span class="code-dot"></span>
          <span class="code-dot"></span>
          <div class="mode-switch">
            <button class="mode-btn active" data-mode="oneliner">One-liner</button>
            <button class="mode-btn" data-mode="quick">npm</button>
            <button class="mode-btn" data-mode="hackable">Hackable</button>
            <button class="mode-btn" data-mode="macos">macOS</button>
          </div>
          <div class="pm-switch" id="pm-switch" style="display: none;">
            <button class="pm-btn active" data-pm="npm">npm</button>
            <button class="pm-btn" data-pm="pnpm">pnpm</button>
          </div>
          <div class="hackable-switch" id="hackable-switch" style="display: none;">
            <button class="hackable-btn active" data-hackable="installer">installer</button>
            <button class="hackable-btn" data-hackable="pnpm">pnpm</button>
          </div>
          <div class="os-indicator" id="os-indicator">
            <span class="os-detected" id="os-detected">macOS/Linux</span>
            <button class="os-change-btn" id="os-change-btn">change</button>
          </div>
          <div class="os-switch" id="os-switch" style="display: none;">
            <button class="os-btn active" data-os="unix">macOS/Linux</button>
            <button class="os-btn" data-os="windows">Windows</button>
          </div>
          <div class="win-shell-switch" id="win-shell-switch" style="display: none;">
            <button class="win-shell-btn active" data-shell="powershell">PowerShell</button>
            <button class="win-shell-btn" data-shell="cmd">CMD</button>
          </div>
          <div class="beta-switch" id="beta-switch">
            <button class="beta-btn" id="beta-btn" data-beta="false">
              <span class="beta-label">Î²</span>
              <span class="beta-text">Beta</span>
            </button>
          </div>
          <div class="switch-placeholder" id="switch-placeholder" aria-hidden="true"></div>
        </div>
        <div id="code-oneliner" class="code-content">
          <div class="code-line comment" id="oneliner-comment"># Works everywhere. Installs everything. You're welcome. ðŸ¦ž</div>
          <div class="code-line cmd">
            <span class="code-prompt">$</span>
            <span class="os-cmd">curl -fsSL https://clawd.bot/install.sh | bash</span>
            <button class="copy-line-btn" data-cmd="oneliner" title="Copy">
              <svg class="copy-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
              <svg class="check-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display:none"><polyline points="20 6 9 17 4 12"/></svg>
            </button>
          </div>
        </div>
        <div id="code-quick" class="code-content" style="display: none;">
          <div class="code-line comment" id="quick-comment-install"># Install Clawdbot</div>
          <div class="code-line cmd">
            <span class="code-prompt">$</span>
            <span class="pm-install">npm i -g clawdbot</span>
            <button class="copy-line-btn" data-cmd="install" title="Copy">
              <svg class="copy-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
              <svg class="check-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display:none"><polyline points="20 6 9 17 4 12"/></svg>
            </button>
          </div>
          <div class="code-line comment" id="quick-comment-onboard"># Meet your lobster</div>
          <div class="code-line cmd">
            <span class="code-prompt">$</span>
            <span>clawdbot onboard</span>
            <button class="copy-line-btn" data-cmd="onboard" title="Copy">
              <svg class="copy-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
              <svg class="check-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display:none"><polyline points="20 6 9 17 4 12"/></svg>
            </button>
          </div>
        </div>
        <div id="code-hackable" class="code-content" style="display: none;">
          <div id="hackable-installer-content">
            <div class="code-line comment"># For those who read source code for fun</div>
            <div class="code-line cmd">
              <span class="code-prompt">$</span>
              <span class="os-cmd-hackable">curl -fsSL https://clawd.bot/install.sh | bash -s -- --install-method git</span>
              <button class="copy-line-btn" data-cmd="hackable-installer" title="Copy">
                <svg class="copy-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
                <svg class="check-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display:none"><polyline points="20 6 9 17 4 12"/></svg>
              </button>
            </div>
          </div>
          <div id="hackable-pnpm-content" style="display: none;">
            <div class="code-line comment"># You clearly know what you're doing</div>
            <div class="code-line cmd">
              <span class="code-prompt">$</span>
              <span>git clone https://github.com/clawdbot/clawdbot.git</span>
              <button class="copy-line-btn" data-cmd="clone" title="Copy">
                <svg class="copy-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
                <svg class="check-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display:none"><polyline points="20 6 9 17 4 12"/></svg>
              </button>
            </div>
            <div class="code-line cmd">
              <span class="code-prompt">$</span>
              <span>cd clawdbot && pnpm install && pnpm run build</span>
              <button class="copy-line-btn" data-cmd="build" title="Copy">
                <svg class="copy-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
                <svg class="check-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display:none"><polyline points="20 6 9 17 4 12"/></svg>
              </button>
            </div>
            <div class="code-line comment"># You built it, now meet it</div>
            <div class="code-line cmd">
              <span class="code-prompt">$</span>
              <span>pnpm run clawdbot onboard</span>
              <button class="copy-line-btn" data-cmd="hackable-onboard" title="Copy">
                <svg class="copy-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
                <svg class="check-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display:none"><polyline points="20 6 9 17 4 12"/></svg>
              </button>
            </div>
          </div>
        </div>
        <div id="code-macos" class="code-content" style="display: none;">
          <div class="macos-app-content">
            <div class="macos-description">
              <span class="macos-tagline">Companion App (Beta)</span>
              <span class="macos-subtitle">Menubar access to your lobster. Works great alongside the CLI.</span>
            </div>
            <a href="https://github.com/clawdbot/clawdbot/releases/latest" class="macos-download-btn" target="_blank" rel="noopener">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                <polyline points="7 10 12 15 17 10"/>
                <line x1="12" y1="15" x2="12" y2="3"/>
              </svg>
              Download for macOS
            </a>
            <span class="macos-meta">Requires macOS 14+ Â· Universal Binary</span>
          </div>
        </div>
      </div>
      <p class="quickstart-note">
        Works on macOS, Windows & Linux. The one-liner installs Node.js and everything else for you.
      </p>
    </section>

    <script>
      const installCmds = {
        npm: 'npm i -g clawdbot',
        pnpm: 'pnpm add -g clawdbot'
      };

      const windowsPsCmd = 'iwr -useb https://clawd.bot/install.ps1 | iex';
      const windowsPsBetaCmd = '& ([scriptblock]::Create((iwr -useb https://clawd.bot/install.ps1))) -Tag beta';
      const windowsCmdCmd = 'curl -fsSL https://clawd.bot/install.cmd -o install.cmd && install.cmd && del install.cmd';
      const windowsCmdBetaCmd = 'curl -fsSL https://clawd.bot/install.cmd -o install.cmd && install.cmd --tag beta && del install.cmd';
      const osCmds = {
        unix: "curl -fsSL https://clawd.bot/install.sh | bash",
        windows: windowsPsCmd
      };

      const osLabels = {
        unix: 'macOS/Linux',
        windows: 'Windows'
      };

      let currentPm = 'npm';
      let currentMode = 'oneliner';
      let currentHackable = 'installer';
      let currentBeta = false;
      let osPickerExpanded = false;
      let currentWinShell = 'powershell';

      // Auto-detect OS
      const isWindows = navigator.platform.toLowerCase().includes('win') ||
                        navigator.userAgent.toLowerCase().includes('windows');
      let currentOs = isWindows ? 'windows' : 'unix';

      const pmBtns = document.querySelectorAll('.pm-btn');
      const hackableBtns = document.querySelectorAll('.hackable-btn');
      const osBtns = document.querySelectorAll('.os-btn');
      const winShellBtns = document.querySelectorAll('.win-shell-btn');
      const modeBtns = document.querySelectorAll('.mode-btn');
      const pmSwitch = document.getElementById('pm-switch');
      const hackableSwitch = document.getElementById('hackable-switch');
      const osSwitch = document.getElementById('os-switch');
      const winShellSwitch = document.getElementById('win-shell-switch');
      const osIndicator = document.getElementById('os-indicator');
      const osDetected = document.getElementById('os-detected');
      const osChangeBtn = document.getElementById('os-change-btn');
      const betaSwitch = document.getElementById('beta-switch');
      const betaBtn = document.getElementById('beta-btn');
      const switchPlaceholder = document.getElementById('switch-placeholder');
      const codeOneliner = document.getElementById('code-oneliner');
      const codeQuick = document.getElementById('code-quick');
      const codeHackable = document.getElementById('code-hackable');
      const codeMacos = document.getElementById('code-macos');
      const hackableInstallerContent = document.getElementById('hackable-installer-content');
      const hackablePnpmContent = document.getElementById('hackable-pnpm-content');
      const onelinerComment = document.getElementById('oneliner-comment');
      const quickCommentInstall = document.getElementById('quick-comment-install');
      const quickCommentOnboard = document.getElementById('quick-comment-onboard');

      const comments = {
        oneliner: {
          stable: "# Works everywhere. Installs everything. You're welcome. ðŸ¦ž",
          beta: "# Living on the edge. Bugs are features you found first. ðŸ¦ž"
        },
        quickInstall: {
          stable: "# Install Clawdbot",
          beta: "# Install Clawdbot (beta) â€” Fresh from the lab ðŸ§ª"
        },
        quickOnboard: {
          stable: "# Meet your lobster",
          beta: "# Meet your experimental lobster"
        }
      };

      function updateCommands() {
        // Update hackable mode commands
        document.querySelectorAll('.pm-cmd').forEach(cmd => cmd.textContent = currentPm);
        // Update quick mode install command (with beta support)
        const betaSuffix = currentBeta ? '@beta' : '';
        const installCmd = currentPm === 'npm'
          ? `npm i -g clawdbot${betaSuffix}`
          : `pnpm add -g clawdbot${betaSuffix}`;
        document.querySelectorAll('.pm-install').forEach(cmd => cmd.textContent = installCmd);
        // Update one-liner OS command (with beta and shell support)
        let onelinerCmd;
        if (currentOs === 'unix') {
          onelinerCmd = currentBeta
            ? "curl -fsSL https://clawd.bot/install.sh | bash -s -- --beta"
            : "curl -fsSL https://clawd.bot/install.sh | bash";
        } else if (currentWinShell === 'cmd') {
          onelinerCmd = currentBeta ? windowsCmdBetaCmd : windowsCmdCmd;
        } else {
          onelinerCmd = currentBeta ? windowsPsBetaCmd : windowsPsCmd;
        }
        document.querySelectorAll('.os-cmd').forEach(cmd => cmd.textContent = onelinerCmd);
        // Update hackable OS command for installer mode
        const hackableOsCmd = "curl -fsSL https://clawd.bot/install.sh | bash -s -- --install-method git";
        document.querySelectorAll('.os-cmd-hackable').forEach(cmd => cmd.textContent = hackableOsCmd);
        // Update OS indicator text
        osDetected.textContent = osLabels[currentOs];
        // Update hackable content visibility
        if (currentMode === 'hackable') {
          hackableInstallerContent.style.display = currentHackable === 'installer' ? 'block' : 'none';
          hackablePnpmContent.style.display = currentHackable === 'pnpm' ? 'block' : 'none';
        }
        // Update beta button state
        betaBtn.classList.toggle('active', currentBeta);
        betaBtn.dataset.beta = currentBeta.toString();
        // Update comment texts based on beta state
        const mode = currentBeta ? 'beta' : 'stable';
        onelinerComment.textContent = comments.oneliner[mode];
        quickCommentInstall.textContent = comments.quickInstall[mode];
        quickCommentOnboard.textContent = comments.quickOnboard[mode];
      }

      function updateVisibility() {
        codeOneliner.style.display = currentMode === 'oneliner' ? 'block' : 'none';
        codeQuick.style.display = currentMode === 'quick' ? 'block' : 'none';
        codeHackable.style.display = currentMode === 'hackable' ? 'block' : 'none';
        codeMacos.style.display = currentMode === 'macos' ? 'block' : 'none';

        // Show OS indicator for one-liner, PM switch for quick, hackable switch for hackable, nothing for macos
        const showOsControls = currentMode === 'oneliner';
        const showPmControls = currentMode === 'quick';
        const showHackableControls = currentMode === 'hackable';
        // Beta only applies to oneliner and npm modes (git always gets main branch)
        const showBetaControls = currentMode === 'oneliner' || currentMode === 'quick';
        // Show Windows shell toggle when Windows is selected in one-liner mode
        const showWinShellControls = showOsControls && currentOs === 'windows';

        osIndicator.style.display = showOsControls && !osPickerExpanded ? 'flex' : 'none';
        osSwitch.style.display = showOsControls && osPickerExpanded ? 'flex' : 'none';
        winShellSwitch.style.display = showWinShellControls ? 'flex' : 'none';
        pmSwitch.style.display = showPmControls ? 'flex' : 'none';
        hackableSwitch.style.display = showHackableControls ? 'flex' : 'none';
        betaSwitch.style.display = showBetaControls ? 'flex' : 'none';
        // Show placeholder when no switches visible (macOS mode) to prevent layout shift
        const noSwitchesVisible = !showOsControls && !showPmControls && !showHackableControls && !showBetaControls;
        switchPlaceholder.style.display = noSwitchesVisible ? 'block' : 'none';
      }

      // OS change toggle
      osChangeBtn.addEventListener('click', () => {
        osPickerExpanded = true;
        updateVisibility();
      });

      // Beta toggle
      betaBtn.addEventListener('click', () => {
        currentBeta = !currentBeta;
        updateCommands();
      });

      pmBtns.forEach(btn => {
        btn.addEventListener('click', () => {
          currentPm = btn.dataset.pm;
          pmBtns.forEach(b => b.classList.remove('active'));
          btn.classList.add('active');
          updateCommands();
        });
      });

      hackableBtns.forEach(btn => {
        btn.addEventListener('click', () => {
          currentHackable = btn.dataset.hackable;
          hackableBtns.forEach(b => b.classList.remove('active'));
          btn.classList.add('active');
          updateCommands();
        });
      });

      osBtns.forEach(btn => {
        btn.addEventListener('click', () => {
          currentOs = btn.dataset.os;
          osBtns.forEach(b => b.classList.remove('active'));
          btn.classList.add('active');
          osPickerExpanded = false; // Collapse after selection
          updateCommands();
          updateVisibility();
        });
      });

      winShellBtns.forEach(btn => {
        btn.addEventListener('click', () => {
          currentWinShell = btn.dataset.shell;
          winShellBtns.forEach(b => b.classList.remove('active'));
          btn.classList.add('active');
          updateCommands();
        });
      });

      modeBtns.forEach(btn => {
        btn.addEventListener('click', () => {
          currentMode = btn.dataset.mode;
          modeBtns.forEach(b => b.classList.remove('active'));
          btn.classList.add('active');
          osPickerExpanded = false; // Reset when switching modes
          updateVisibility();
        });
      });

      // Initialize UI based on detected OS
      osBtns.forEach(b => b.classList.toggle('active', b.dataset.os === currentOs));
      updateCommands();
      updateVisibility();

      // Copy button functionality
      const copyCommands = {
        'oneliner': () => {
          if (currentOs === 'unix') {
            return currentBeta
              ? "curl -fsSL https://clawd.bot/install.sh | bash -s -- --beta"
              : "curl -fsSL https://clawd.bot/install.sh | bash";
          } else if (currentWinShell === 'cmd') {
            return currentBeta ? windowsCmdBetaCmd : windowsCmdCmd;
          } else {
            return currentBeta ? windowsPsBetaCmd : windowsPsCmd;
          }
        },
        'install': () => {
          const betaSuffix = currentBeta ? '@beta' : '';
          return currentPm === 'npm' ? `npm i -g clawdbot${betaSuffix}` : `pnpm add -g clawdbot${betaSuffix}`;
        },
        'onboard': () => 'clawdbot onboard',
        'hackable-installer': () => "curl -fsSL https://clawd.bot/install.sh | bash -s -- --install-method git",
        'clone': () => 'git clone https://github.com/clawdbot/clawdbot.git',
        'build': () => 'cd clawdbot && pnpm install && pnpm run build',
        'hackable-onboard': () => 'pnpm run clawdbot onboard',
      };

      document.querySelectorAll('.copy-line-btn').forEach(btn => {
        btn.addEventListener('click', async () => {
          const cmdKey = btn.dataset.cmd;
          const code = copyCommands[cmdKey]();
          const copyIcon = btn.querySelector('.copy-icon');
          const checkIcon = btn.querySelector('.check-icon');

          try {
            await navigator.clipboard.writeText(code);
            btn.classList.add('copied');
            copyIcon.style.display = 'none';
            checkIcon.style.display = 'block';
            setTimeout(() => {
              btn.classList.remove('copied');
              copyIcon.style.display = 'block';
              checkIcon.style.display = 'none';
            }, 2000);
          } catch (err) {
            console.error('Failed to copy:', err);
          }
        });
      });

      // Easter egg: Dalek mode on lobster hover
      const lobsterIcon = document.querySelector('.lobster-icon');
      const tagline = document.getElementById('tagline');
      const originalTagline = tagline.textContent;
      let isAnimating = false;

      lobsterIcon.addEventListener('mouseenter', () => {
        if (isAnimating) return;
        isAnimating = true;

        // Animate to Dalek text
        tagline.style.transition = 'opacity 0.2s ease';
        tagline.style.opacity = '0';

        setTimeout(() => {
          tagline.textContent = 'EXFOLIATE! EXFOLIATE!';
          tagline.classList.add('dalek-mode');
          tagline.style.opacity = '1';
        }, 200);

        // Revert after 2 seconds
        setTimeout(() => {
          tagline.style.opacity = '0';
          setTimeout(() => {
            tagline.textContent = originalTagline;
            tagline.classList.remove('dalek-mode');
            tagline.style.opacity = '1';
            isAnimating = false;
          }, 200);
        }, 2000);
      });
    </script>

    <!-- What It Does -->
    <section class="features">
      <h2 class="section-title">What It Does</h2>
      <div class="features-grid">
        <a href="https://docs.clawd.bot/getting-started" target="_blank" rel="noopener" class="feature-card">
          <div class="feature-icon"><Icon icon="lucide:home" color="#FF6B00" size={24} /></div>
          <h3 class="feature-title">Runs on Your Machine</h3>
          <p class="feature-desc">Mac, Windows, or Linux. Anthropic, OpenAI, or local models. Private by defaultâ€”your data stays yours.</p>
        </a>
        <a href="/integrations" class="feature-card">
          <div class="feature-icon"><Icon icon="lucide:message-circle" color="#FF6B00" size={24} /></div>
          <h3 class="feature-title">Any Chat App</h3>
          <p class="feature-desc">Talk to it on WhatsApp, Telegram, Discord, Slack, Signal, or iMessage. Works in DMs and group chats.</p>
        </a>
        <a href="https://docs.clawd.bot/session" target="_blank" rel="noopener" class="feature-card">
          <div class="feature-icon"><Icon icon="lucide:brain" color="#FF6B00" size={24} /></div>
          <h3 class="feature-title">Persistent Memory</h3>
          <p class="feature-desc">Remembers you and becomes uniquely yours. Your preferences, your context, your AI.</p>
        </a>
        <a href="https://docs.clawd.bot/browser" target="_blank" rel="noopener" class="feature-card">
          <div class="feature-icon"><Icon icon="lucide:globe" color="#FF6B00" size={24} /></div>
          <h3 class="feature-title">Browser Control</h3>
          <p class="feature-desc">It can browse the web, fill forms, and extract data from any site.</p>
        </a>
        <a href="https://docs.clawd.bot/bash" target="_blank" rel="noopener" class="feature-card">
          <div class="feature-icon"><Icon icon="lucide:terminal" color="#FF6B00" size={24} /></div>
          <h3 class="feature-title">Full System Access</h3>
          <p class="feature-desc">Read and write files, run shell commands, execute scripts. Full access or sandboxedâ€”your choice.</p>
        </a>
        <a href="https://docs.clawd.bot/skills" target="_blank" rel="noopener" class="feature-card">
          <div class="feature-icon"><Icon icon="lucide:puzzle" color="#FF6B00" size={24} /></div>
          <h3 class="feature-title">Skills & Plugins</h3>
          <p class="feature-desc">Extend with community skills or build your own. It can even write its own.</p>
        </a>
      </div>
    </section>

    <!-- Integrations Preview -->
    <section class="integrations-preview">
      <h2 class="section-title">Works With Everything</h2>
      <div class="integrations-row">
        {integrationPills.map((p) => (
          <span class="integration-pill">
            <Icon icon={p.icon} color={p.color} size={16} />
            <span>{p.name}</span>
          </span>
        ))}
      </div>
      <div class="integrations-links">
        <a href="/integrations" class="integrations-link">View all 50+ integrations â†’</a>
        <span class="link-separator">Â·</span>
        <a href="/showcase" class="integrations-link">See what people built â†’</a>
      </div>
    </section>

    <!-- Press Section -->
    <section class="press-section">
      <h2 class="section-title">Featured In</h2>
      <div class="press-grid">
        <a href="https://www.macstories.net/stories/clawdbot-showed-me-what-the-future-of-personal-ai-assistants-looks-like/" target="_blank" rel="noopener" class="press-card press-featured">
          <div class="press-logo">
            <svg viewBox="0 0 24 24" fill="currentColor" class="press-icon">
              <path d="M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z"/>
            </svg>
            <span class="press-name">MacStories</span>
          </div>
          <blockquote class="press-quote">
            "Clawdbot Showed Me What the Future of Personal AI Assistants Looks Like"
          </blockquote>
          <span class="press-author">Federico Viticci</span>
        </a>
        <a href="https://www.starryhope.com/minipcs/clawdbot-mac-mini-ai-agent-trend/" target="_blank" rel="noopener" class="press-card">
          <div class="press-logo">
            <svg viewBox="0 0 24 24" fill="currentColor" class="press-icon">
              <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/>
            </svg>
            <span class="press-name">StarryHope</span>
          </div>
          <blockquote class="press-quote">
            "The Lobster Takeover: Why Developers Are Buying Mac Minis to Run Their Own AI Agents"
          </blockquote>
          <span class="press-author">Jim Mendenhall</span>
        </a>
      </div>
    </section>

    <!-- CTA Grid -->
    <nav class="cta-grid">
      <a href="https://discord.com/invite/clawd" class="cta cta-discord" target="_blank" rel="noopener">
        <svg class="cta-icon" viewBox="0 0 24 24" fill="currentColor">
          <path d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028 14.09 14.09 0 0 0 1.226-1.994.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z"/>
        </svg>
        <span class="cta-label">Discord</span>
        <span class="cta-sub">Join the community</span>
      </a>

      <a href="https://docs.clawd.bot/getting-started" class="cta cta-docs" target="_blank" rel="noopener">
        <svg class="cta-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"/>
          <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"/>
          <line x1="8" y1="7" x2="16" y2="7"/>
          <line x1="8" y1="11" x2="14" y2="11"/>
        </svg>
        <span class="cta-label">Documentation</span>
        <span class="cta-sub">Learn the ropes</span>
      </a>

      <a href="https://github.com/clawdbot/clawdbot" class="cta cta-github" target="_blank" rel="noopener">
        <svg class="cta-icon" viewBox="0 0 24 24" fill="currentColor">
          <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
        </svg>
        <span class="cta-label">GitHub</span>
        <span class="cta-sub">View the source</span>
      </a>

      <a href="https://clawdhub.com" class="cta cta-skills" target="_blank" rel="noopener">
        <svg class="cta-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/>
        </svg>
        <span class="cta-label">ClawdHub</span>
        <span class="cta-sub">Download skills</span>
      </a>
    </nav>

    <!-- Newsletter Signup -->
    <section class="newsletter">
      <div class="newsletter-content">
        <h2 class="newsletter-title">Stay in the Loop</h2>
        <p class="newsletter-desc">Get updates on new features, integrations, and lobster wisdom. No spam, unsubscribe anytime.</p>
        <form class="newsletter-form" action="https://buttondown.com/api/emails/embed-subscribe/steipete" method="post" target="_blank">
          <input type="hidden" name="tag" value="clawdbot" />
          <input
            type="email"
            name="email"
            placeholder="your@email.com"
            required
            class="newsletter-input"
            aria-label="Email address"
          />
          <button type="submit" class="newsletter-btn">
            Subscribe
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <line x1="5" y1="12" x2="19" y2="12"/>
              <polyline points="12 5 19 12 12 19"/>
            </svg>
          </button>
        </form>
      </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
      <p>Built by <a href="https://clawd.me" target="_blank" rel="noopener">Clawd</a> ðŸ¦ž, a space lobster AI with a <a href="https://soul.md" target="_blank" rel="noopener">soul</a>, by <a href="https://steipete.me" target="_blank" rel="noopener">Peter Steinberger</a> & <a href="https://github.com/clawdbot/clawdbot#community" target="_blank" rel="noopener">community</a>.</p>
    </footer>
  </main>
</Layout>

<style>
  /* Clean, minimal aesthetic */
  .container {
    position: relative;
    max-width: 800px;
    margin: 0 auto;
    padding: 80px 24px 60px;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    gap: 64px;
  }

  /* Hero */
  .hero {
    text-align: center;
  }

  .lobster-icon {
    width: 64px;
    height: 64px;
    margin: 0 auto 20px;
    cursor: pointer;
    opacity: 0.9;
    transition: opacity 0.2s ease;
  }

  .lobster-icon:hover {
    opacity: 1;
  }

  .lobster-icon svg {
    width: 100%;
    height: 100%;
  }

  .title {
    font-family: var(--font-display);
    font-size: clamp(2.5rem, 8vw, 3.5rem);
    font-weight: 700;
    letter-spacing: -0.03em;
    line-height: 1;
    margin-bottom: 16px;
  }

  .title-main {
    color: var(--text-primary);
  }

  .tagline {
    font-size: 0.95rem;
    font-weight: 500;
    color: var(--accent);
    letter-spacing: 0.02em;
    margin-bottom: 24px;
  }

  .tagline.dalek-mode {
    color: var(--accent);
  }

  .description {
    font-size: 1.05rem;
    color: var(--text-secondary);
    max-width: 500px;
    margin: 0 auto;
    line-height: 1.6;
    text-wrap: balance;
  }

  /* CTA Grid - flat, minimal */
  .cta-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 12px;
  }

  @media (min-width: 640px) {
    .cta-grid {
      grid-template-columns: repeat(4, 1fr);
    }
  }

  .cta {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    padding: 20px 16px;
    border: 1px solid var(--border-subtle);
    background: var(--bg-surface);
    text-decoration: none;
    color: var(--text-primary);
    transition: border-color 0.15s ease;
  }

  .cta:hover {
    border-color: var(--accent);
  }

  .cta-icon {
    width: 24px;
    height: 24px;
    color: var(--accent);
  }

  .cta-discord:hover { border-color: var(--accent); }
  .cta-docs:hover { border-color: var(--accent); }
  .cta-github:hover { border-color: var(--accent); }
  .cta-skills:hover { border-color: var(--accent); }

  .cta-label {
    font-weight: 600;
    font-size: 0.9rem;
  }

  .cta-sub {
    font-size: 0.75rem;
    color: var(--text-muted);
    white-space: nowrap;
  }

  /* Newsletter - flat style */
  .newsletter {
  }

  .newsletter-content {
    text-align: center;
    padding: 32px 24px;
    border: 1px solid var(--border-subtle);
    background: var(--bg-surface);
  }

  .newsletter-title {
    font-family: var(--font-body);
    font-size: 1.1rem;
    font-weight: 600;
    margin-bottom: 8px;
    color: var(--text-primary);
  }

  .newsletter-desc {
    font-size: 0.9rem;
    color: var(--text-muted);
    margin-bottom: 20px;
    max-width: 360px;
    margin-left: auto;
    margin-right: auto;
    text-wrap: balance;
  }

  .newsletter-form {
    display: flex;
    gap: 8px;
    max-width: 400px;
    margin: 0 auto;
  }

  .newsletter-input {
    flex: 1;
    padding: 12px 16px;
    border: 1px solid var(--border-subtle);
    background: var(--bg-deep);
    color: var(--text-primary);
    font-size: 0.9rem;
    outline: none;
    transition: border-color 0.15s ease;
  }

  .newsletter-input::placeholder {
    color: var(--text-muted);
  }

  .newsletter-input:focus {
    border-color: var(--accent);
  }

  .newsletter-btn {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 12px 20px;
    border: 1px solid var(--accent);
    background: var(--accent);
    color: var(--bg-deep);
    font-size: 0.9rem;
    font-weight: 600;
    cursor: pointer;
    transition: opacity 0.15s ease;
  }

  .newsletter-btn:hover {
    opacity: 0.9;
  }

  .newsletter-btn svg {
    width: 16px;
    height: 16px;
  }

  @media (max-width: 480px) {
    .newsletter-content {
      padding: 24px 16px;
    }

    .newsletter-form {
      flex-direction: column;
    }

    .newsletter-input {
      width: 100%;
    }

    .newsletter-btn {
      width: 100%;
      justify-content: center;
    }
  }

  /* Features - flat, minimal */
  .features {
  }

  .features-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 12px;
  }

  @media (min-width: 640px) {
    .features-grid {
      grid-template-columns: repeat(3, 1fr);
    }
  }

  .feature-card {
    display: block;
    padding: 16px;
    border: 1px solid var(--border-subtle);
    background: var(--bg-surface);
    transition: border-color 0.15s ease;
    text-decoration: none;
    color: inherit;
  }

  .feature-card:hover {
    border-color: var(--accent);
  }

  .feature-icon {
    display: flex;
    align-items: center;
    justify-content: flex-start;
    margin-bottom: 10px;
  }

  .feature-icon :global(svg) {
    width: 24px;
    height: 24px;
  }

  .feature-title {
    font-size: 0.95rem;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 6px;
  }

  .feature-desc {
    font-size: 0.8rem;
    color: var(--text-muted);
    line-height: 1.5;
  }

  /* Integrations Preview - flat */
  .integrations-preview {
  }

  .integrations-row {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    justify-content: center;
    margin-bottom: 20px;
  }

  .integration-pill {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 6px 12px;
    border: 1px solid var(--border-subtle);
    background: var(--bg-surface);
    font-size: 0.8rem;
    color: var(--text-secondary);
    transition: border-color 0.15s ease;
  }

  .integration-pill :global(svg) {
    width: 14px;
    height: 14px;
    flex-shrink: 0;
  }

  .integration-pill:hover {
    border-color: var(--accent);
  }

  .integrations-links {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 12px;
    flex-wrap: wrap;
  }

  .integrations-link {
    color: var(--accent);
    text-decoration: none;
    font-size: 0.9rem;
    font-weight: 500;
    transition: opacity 0.15s ease;
  }

  .integrations-link:hover {
    opacity: 0.8;
  }

  .link-separator {
    color: var(--text-muted);
    font-size: 0.85rem;
  }

  /* Press Section - flat */
  .press-section {
  }

  .press-section .section-title {
    margin-bottom: 20px;
  }

  .press-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 12px;
  }

  @media (max-width: 640px) {
    .press-grid {
      grid-template-columns: 1fr;
    }
  }

  .press-card {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    gap: 12px;
    padding: 20px;
    border: 1px solid var(--border-subtle);
    background: var(--bg-surface);
    text-decoration: none;
    color: var(--text-primary);
    transition: border-color 0.15s ease;
  }

  .press-card:hover {
    border-color: var(--accent);
  }

  .press-logo {
    display: flex;
    align-items: center;
    gap: 8px;
  }

  .press-icon {
    width: 20px;
    height: 20px;
    color: var(--text-muted);
  }

  .press-name {
    font-size: 0.9rem;
    font-weight: 600;
    color: var(--text-muted);
  }

  .press-quote {
    font-size: 0.95rem;
    line-height: 1.5;
    color: var(--text-primary);
    margin: 0;
  }

  .press-author {
    font-size: 0.85rem;
    font-weight: 500;
    color: var(--accent);
  }

  .press-featured {
    border-color: var(--border-subtle);
  }

  /* Quick Start */
  .quickstart {
  }

  .section-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
  }

  .section-title {
    font-family: var(--font-body);
    font-size: 1.1rem;
    font-weight: 600;
    margin-bottom: 20px;
    color: var(--text-primary);
    letter-spacing: -0.01em;
  }

  .section-header .section-title {
    margin-bottom: 0;
  }

  .section-link {
    font-size: 0.85rem;
    color: var(--accent);
    text-decoration: none;
    transition: opacity 0.15s ease;
  }

  .section-link:hover {
    opacity: 0.8;
  }

  .code-block {
    background: var(--bg-elevated);
    border: 1px solid var(--border-subtle);
    overflow: hidden;
  }

  .code-header {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 10px 16px;
    background: var(--bg-surface);
    border-bottom: 1px solid var(--border-subtle);
  }

  .code-content {
    padding: 16px 20px;
    font-family: var(--font-mono);
    font-size: 0.85rem;
    line-height: 1.6;
  }

  .code-line {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 4px 0;
  }

  .code-line.comment {
    color: var(--text-muted);
  }

  .code-line.cmd {
    color: var(--text-primary);
  }

  .copy-line-btn {
    opacity: 0.5;
    margin-left: auto;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 28px;
    height: 28px;
    border: 1px solid var(--border-subtle);
    background: transparent;
    color: var(--text-muted);
    cursor: pointer;
    transition: all 0.15s ease;
    flex-shrink: 0;
  }

  .code-line:hover .copy-line-btn {
    opacity: 1;
  }

  .copy-line-btn:hover {
    border-color: var(--accent);
    color: var(--accent);
  }

  .copy-line-btn.copied {
    opacity: 1;
    border-color: var(--accent);
    color: var(--accent);
  }

  .copy-line-btn svg {
    width: 14px;
    height: 14px;
  }

  .code-dot {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background: var(--text-muted);
  }

  .code-dot:nth-child(1) { background: #ff5f57; }
  .code-dot:nth-child(2) { background: #febc2e; }
  .code-dot:nth-child(3) { background: #28c840; }

  .code-title {
    margin-left: auto;
    font-size: 0.75rem;
    color: var(--text-muted);
    font-family: var(--font-mono);
  }

  .mode-switch,
  .pm-switch,
  .hackable-switch,
  .os-switch,
  .win-shell-switch {
    display: flex;
    gap: 2px;
    background: var(--bg-deep);
    padding: 2px;
    border: 1px solid var(--border-subtle);
  }

  .pm-switch,
  .hackable-switch,
  .os-switch,
  .win-shell-switch {
    margin-left: auto;
  }

  .win-shell-switch {
    margin-left: 8px;
  }

  .mode-btn,
  .pm-btn,
  .hackable-btn,
  .os-btn,
  .win-shell-btn {
    font-family: var(--font-mono);
    font-size: 0.7rem;
    padding: 4px 10px;
    border: none;
    background: transparent;
    color: var(--text-muted);
    cursor: pointer;
    transition: all 0.15s ease;
  }

  .mode-btn:hover,
  .pm-btn:hover,
  .hackable-btn:hover,
  .os-btn:hover,
  .win-shell-btn:hover {
    color: var(--text-secondary);
  }

  .pm-btn.active,
  .hackable-btn.active,
  .os-btn.active,
  .win-shell-btn.active,
  .mode-btn.active {
    background: var(--accent);
    color: var(--bg-deep);
    font-weight: 600;
  }

  /* Beta Switch */
  .beta-switch {
    margin-left: 8px;
  }

  /* Placeholder to prevent layout shift when no switches visible */
  .switch-placeholder {
    display: none;
    height: 26px;
    margin-left: auto;
  }

  .beta-btn {
    display: flex;
    align-items: center;
    gap: 4px;
    font-family: var(--font-mono);
    font-size: 0.7rem;
    padding: 4px 10px;
    border: 1px solid var(--border-subtle);
    background: transparent;
    color: var(--text-muted);
    cursor: pointer;
    transition: all 0.15s ease;
  }

  .beta-btn:hover {
    border-color: var(--accent);
    color: var(--accent);
  }

  .beta-btn.active {
    background: var(--accent);
    border-color: var(--accent);
    color: var(--bg-deep);
  }

  .beta-label {
    font-weight: 700;
    font-size: 0.8rem;
  }

  .beta-text {
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }

  .pm-cmd,
  .pm-install {
    color: var(--accent);
  }

  .code-block pre {
    padding: 20px;
    overflow-x: auto;
  }

  .code-block code {
    font-family: var(--font-mono);
    font-size: 0.85rem;
    line-height: 1.7;
    color: var(--text-secondary);
  }

  .code-comment {
    color: var(--text-muted);
  }

  .code-prompt {
    color: var(--accent);
    user-select: none;
  }

  .quickstart-note {
    margin-top: 12px;
    font-size: 0.8rem;
    color: var(--text-muted);
    text-align: center;
  }

  /* OS Indicator */
  .os-indicator {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-left: auto;
    font-family: var(--font-mono);
    font-size: 0.75rem;
    color: var(--text-muted);
  }

  .os-detected {
    color: var(--text-secondary);
  }

  .os-change-btn {
    background: none;
    border: none;
    color: var(--accent);
    font-family: var(--font-mono);
    font-size: 0.7rem;
    cursor: pointer;
    padding: 2px 6px;
    transition: opacity 0.15s ease;
  }

  .os-change-btn:hover {
    opacity: 0.8;
  }

  /* macOS App Download Section */
  .macos-app-content {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 16px;
    padding: 24px 16px;
    text-align: center;
  }

  .macos-description {
    display: flex;
    flex-direction: column;
    gap: 4px;
  }

  .macos-tagline {
    font-size: 1rem;
    font-weight: 600;
    color: var(--text-primary);
  }

  .macos-subtitle {
    font-size: 0.85rem;
    color: var(--text-muted);
  }

  .macos-download-btn {
    display: inline-flex;
    align-items: center;
    gap: 10px;
    padding: 12px 24px;
    background: var(--accent);
    border: none;
    color: var(--bg-deep);
    font-size: 0.9rem;
    font-weight: 600;
    text-decoration: none;
    cursor: pointer;
    transition: opacity 0.15s ease;
  }

  .macos-download-btn:hover {
    opacity: 0.9;
  }

  .macos-download-btn svg {
    width: 18px;
    height: 18px;
  }

  .macos-meta {
    font-size: 0.8rem;
    color: var(--text-muted);
  }

  /* Footer - minimal */
  .footer {
    margin-top: auto;
    padding-top: 32px;
    text-align: center;
    font-size: 0.8rem;
    color: var(--text-muted);
    border-top: 1px solid var(--border-subtle);
  }

  .footer a {
    color: var(--accent);
    text-decoration: none;
    transition: opacity 0.15s ease;
  }

  .footer a:hover {
    opacity: 0.8;
  }


  /* Testimonials - flat cards, no avatars */
  .testimonials {
    overflow: hidden;
    margin-left: -24px;
    margin-right: -24px;
    padding: 0 24px;
  }

  .testimonials .section-header {
    padding: 0 24px;
  }

  .testimonials-track {
    display: flex;
    flex-direction: column;
    gap: 8px;
    margin-left: -24px;
    margin-right: -24px;
    overflow: hidden;
    mask-image: linear-gradient(
      to right,
      transparent,
      black 5%,
      black 95%,
      transparent
    );
    -webkit-mask-image: linear-gradient(
      to right,
      transparent,
      black 5%,
      black 95%,
      transparent
    );
  }

  .testimonials-row {
    display: flex;
    gap: 12px;
    width: max-content;
    padding: 8px 0;
  }

  .row-1 {
    animation: scroll-left var(--duration, 80s) linear infinite;
  }

  .row-2 {
    animation: scroll-right var(--duration, 90s) linear infinite;
  }

  @keyframes scroll-left {
    from { transform: translateX(0); }
    to { transform: translateX(-50%); }
  }

  @keyframes scroll-right {
    from { transform: translateX(-50%); }
    to { transform: translateX(0); }
  }

  .testimonial-card {
    display: flex;
    flex-direction: column;
    gap: 8px;
    padding: 14px 16px;
    min-width: 280px;
    max-width: 360px;
    border: 1px solid var(--border-subtle);
    background: var(--bg-surface);
    text-decoration: none;
    color: var(--text-primary);
    transition: border-color 0.15s ease;
    flex-shrink: 0;
  }

  .testimonial-card:hover {
    border-color: var(--accent);
  }

  .testimonials-row:hover {
    animation-play-state: paused;
  }

  .testimonial-avatar {
    display: none;
  }

  .testimonial-content {
    display: flex;
    flex-direction: column;
    gap: 6px;
    min-width: 0;
  }

  .testimonial-quote {
    font-size: 0.85rem;
    line-height: 1.5;
    color: var(--text-secondary);
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .testimonial-author {
    font-size: 0.8rem;
    font-weight: 600;
    color: var(--accent);
  }

  /* Responsive */
  @media (max-width: 480px) {
    .container {
      padding: 48px 16px 32px;
      gap: 48px;
    }

    .lobster-icon {
      width: 48px;
      height: 48px;
      margin-bottom: 16px;
    }

    .title {
      font-size: 2rem;
      margin-bottom: 12px;
    }

    .tagline {
      font-size: 0.8rem;
      margin-bottom: 16px;
    }

    .description {
      font-size: 0.9rem;
    }

    .section-title {
      font-size: 1rem;
      margin-bottom: 16px;
    }

    .cta {
      padding: 16px 12px;
    }

    .cta-label {
      font-size: 0.8rem;
    }

    .testimonials {
      margin-left: -16px;
      margin-right: -16px;
      padding: 0 16px;
    }

    .testimonials .section-title {
      padding-left: 16px;
    }

    .testimonials-track {
      margin-left: -16px;
      margin-right: -16px;
    }

    .testimonial-card {
      min-width: 260px;
      max-width: 300px;
      padding: 12px;
    }

    .testimonial-quote {
      font-size: 0.8rem;
    }

    /* Quick Start mobile layout */
    .code-header {
      flex-wrap: wrap;
      gap: 8px;
    }

    .code-dot {
      order: 0;
    }

    .os-indicator,
    .os-switch,
    .win-shell-switch,
    .pm-switch,
    .hackable-switch,
    .beta-switch,
    .switch-placeholder {
      order: 1;
      margin-left: auto;
    }

    .win-shell-switch {
      margin-left: 4px;
    }

    .mode-switch {
      order: 2;
      width: 100%;
      justify-content: center;
      margin-top: 4px;
    }

    .mode-btn {
      padding: 6px 8px;
      font-size: 0.65rem;
    }

    .os-btn,
    .pm-btn,
    .win-shell-btn {
      padding: 4px 8px;
      font-size: 0.65rem;
    }

    .code-content {
      padding: 12px 14px;
      font-size: 0.7rem;
    }

    .code-line {
      gap: 6px;
    }

    .macos-download-btn {
      padding: 10px 18px;
      font-size: 0.85rem;
    }

    .section-title {
      font-size: 1rem;
    }

    .feature-card {
      padding: 12px;
    }

    .feature-title {
      font-size: 0.85rem;
    }

    .feature-desc {
      font-size: 0.75rem;
    }
  }
</style>
